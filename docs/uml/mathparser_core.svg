<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1120px" preserveAspectRatio="none" style="width:2353px;height:1120px;" version="1.1" viewBox="0 0 2353 1120" width="2353px" zoomAndPan="magnify"><defs><filter height="300%" id="fwwy22zqy1ovx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[cee429d20d78084872fddabf61188e95]
cluster mathparser::core--><polygon fill="#FFFFFF" filter="url(#fwwy22zqy1ovx)" points="22,24,147,24,154,49.0679,2331,49.0679,2331,1108,22,1108,22,24" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="154" y1="49.0679" y2="49.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="26" y="40.9659">mathparser::core</text><!--MD5=[a0f202f3fdecae7e3cf78223de49c9d8]
class IExpression--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="IExpression" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="1252.5" y="84.5"/><ellipse cx="1294.5" cy="100.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1290.4219,96.2656 L1290.4219,94.1094 L1297.8125,94.1094 L1297.8125,96.2656 L1295.3438,96.2656 L1295.3438,104.3438 L1297.8125,104.3438 L1297.8125,106.5 L1290.4219,106.5 L1290.4219,104.3438 L1292.8906,104.3438 L1292.8906,96.2656 L1290.4219,96.2656 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="1314.5" y="105.156">IExpression</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1253.5" x2="1404.5" y1="116.5" y2="116.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1253.5" x2="1404.5" y1="124.5" y2="124.5"/><ellipse cx="1263.5" cy="135.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="1272.5" y="140.2589">virtual ~IExpression()</text><ellipse cx="1263.5" cy="150.4819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="1272.5" y="155.2408">virtual double Evaluate()</text><!--MD5=[3e385c235546c6d8f6c69349af9c0874]
class FunctionExpression--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="212.8008" id="FunctionExpression" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="1145" y="264"/><ellipse cx="1234.75" cy="280" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1237.7188,285.6406 Q1237.1406,285.9375 1236.5,286.0781 Q1235.8594,286.2344 1235.1563,286.2344 Q1232.6563,286.2344 1231.3281,284.5938 Q1230.0156,282.9375 1230.0156,279.8125 Q1230.0156,276.6875 1231.3281,275.0313 Q1232.6563,273.375 1235.1563,273.375 Q1235.8594,273.375 1236.5,273.5313 Q1237.1563,273.6875 1237.7188,273.9844 L1237.7188,276.7031 Q1237.0938,276.125 1236.5,275.8594 Q1235.9063,275.5781 1235.2813,275.5781 Q1233.9375,275.5781 1233.25,276.6563 Q1232.5625,277.7188 1232.5625,279.8125 Q1232.5625,281.9063 1233.25,282.9844 Q1233.9375,284.0469 1235.2813,284.0469 Q1235.9063,284.0469 1236.5,283.7813 Q1237.0938,283.5 1237.7188,282.9219 L1237.7188,285.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="1255.25" y="284.656">FunctionExpression</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1146" x2="1440" y1="296" y2="296"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1153" y="304"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1165" y="311.7589">ArgsType arg_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1153" y="318.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="1165" y="326.7408">double coef_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1153" y="333.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="1165" y="341.7227">std::shared_ptr&lt;BaseFunction&gt; meta_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1146" x2="1440" y1="348.9457" y2="348.9457"/><ellipse cx="1156" cy="359.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="1165" y="364.7046">FunctionExpression(std::shared_ptr&lt;BaseFunction&gt;)</text><ellipse cx="1156" cy="374.9276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1165" y="379.6865">double Evaluate()</text><ellipse cx="1156" cy="389.9094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="1165" y="394.6684">size_t argCount() const</text><ellipse cx="1156" cy="404.8913" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="1165" y="409.6502">std::shared_ptr&lt;FunctionExpression&gt;&amp; argAt(size_t)</text><ellipse cx="1156" cy="419.8732" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="1165" y="424.6321">void ensureArgSize(size_t)</text><ellipse cx="1156" cy="434.8551" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="1165" y="439.614">double coef() const</text><ellipse cx="1156" cy="449.837" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1165" y="454.5959">void setCoef(double)</text><ellipse cx="1156" cy="464.8189" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1165" y="469.5778">void setMeta(std::shared_ptr&lt;BaseFunction&gt;)</text><!--MD5=[e3d25a5219136005d4a8e5a74499f5a2]
class BaseFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="197.8189" id="BaseFunction" style="stroke: #A80036; stroke-width: 1.5;" width="278" x="1028" y="755"/><ellipse cx="1125.25" cy="771" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1128.2188,776.6406 Q1127.6406,776.9375 1127,777.0781 Q1126.3594,777.2344 1125.6563,777.2344 Q1123.1563,777.2344 1121.8281,775.5938 Q1120.5156,773.9375 1120.5156,770.8125 Q1120.5156,767.6875 1121.8281,766.0313 Q1123.1563,764.375 1125.6563,764.375 Q1126.3594,764.375 1127,764.5313 Q1127.6563,764.6875 1128.2188,764.9844 L1128.2188,767.7031 Q1127.5938,767.125 1127,766.8594 Q1126.4063,766.5781 1125.7813,766.5781 Q1124.4375,766.5781 1123.75,767.6563 Q1123.0625,768.7188 1123.0625,770.8125 Q1123.0625,772.9063 1123.75,773.9844 Q1124.4375,775.0469 1125.7813,775.0469 Q1126.4063,775.0469 1127,774.7813 Q1127.5938,774.5 1128.2188,773.9219 L1128.2188,776.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1145.75" y="775.656">BaseFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1029" x2="1305" y1="787" y2="787"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1036" y="795"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1048" y="802.7589">std::string name_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1036" y="809.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="1048" y="817.7408">char oper_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1036" y="824.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1048" y="832.7227">size_t arg_number_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1036" y="839.9457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="1048" y="847.7046">int oper_index_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1029" x2="1305" y1="854.9276" y2="854.9276"/><ellipse cx="1039" cy="865.9276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="1048" y="870.6865">virtual size_t getArgNumber() const</text><ellipse cx="1039" cy="880.9094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="1048" y="885.6684">virtual const std::string&amp; getName() const</text><ellipse cx="1039" cy="895.8913" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="1048" y="900.6502">virtual char getOperator() const</text><ellipse cx="1039" cy="910.8732" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="1048" y="915.6321">virtual int getOperIndex() const</text><ellipse cx="1039" cy="925.8551" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="1048" y="930.614">virtual double evaluate(const ArgType&amp;)</text><ellipse cx="1039" cy="940.837" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="252" x="1048" y="945.5959">virtual double evaluateImpl(const ArgType&amp;) = 0</text><!--MD5=[8123e47a446fd15c888f5e1719bd164d]
class AddFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="AddFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="38" y="1014"/><ellipse cx="126.25" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M129.2188,1035.6406 Q128.6406,1035.9375 128,1036.0781 Q127.3594,1036.2344 126.6563,1036.2344 Q124.1563,1036.2344 122.8281,1034.5938 Q121.5156,1032.9375 121.5156,1029.8125 Q121.5156,1026.6875 122.8281,1025.0313 Q124.1563,1023.375 126.6563,1023.375 Q127.3594,1023.375 128,1023.5313 Q128.6563,1023.6875 129.2188,1023.9844 L129.2188,1026.7031 Q128.5938,1026.125 128,1025.8594 Q127.4063,1025.5781 126.7813,1025.5781 Q125.4375,1025.5781 124.75,1026.6563 Q124.0625,1027.7188 124.0625,1029.8125 Q124.0625,1031.9063 124.75,1032.9844 Q125.4375,1034.0469 126.7813,1034.0469 Q127.4063,1034.0469 128,1033.7813 Q128.5938,1033.5 129.2188,1032.9219 L129.2188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="146.75" y="1034.656">AddFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="291" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="291" y1="1054" y2="1054"/><ellipse cx="49" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="58" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="49" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="58" y="1084.7408">AddFunction()</text><!--MD5=[467cdb2d789d6d94567c81714a69c122]
class MultFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="MultFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="327" y="1014"/><ellipse cx="413.75" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M416.7188,1035.6406 Q416.1406,1035.9375 415.5,1036.0781 Q414.8594,1036.2344 414.1563,1036.2344 Q411.6563,1036.2344 410.3281,1034.5938 Q409.0156,1032.9375 409.0156,1029.8125 Q409.0156,1026.6875 410.3281,1025.0313 Q411.6563,1023.375 414.1563,1023.375 Q414.8594,1023.375 415.5,1023.5313 Q416.1563,1023.6875 416.7188,1023.9844 L416.7188,1026.7031 Q416.0938,1026.125 415.5,1025.8594 Q414.9063,1025.5781 414.2813,1025.5781 Q412.9375,1025.5781 412.25,1026.6563 Q411.5625,1027.7188 411.5625,1029.8125 Q411.5625,1031.9063 412.25,1032.9844 Q412.9375,1034.0469 414.2813,1034.0469 Q414.9063,1034.0469 415.5,1033.7813 Q416.0938,1033.5 416.7188,1032.9219 L416.7188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="434.25" y="1034.656">MultFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="328" x2="580" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="328" x2="580" y1="1054" y2="1054"/><ellipse cx="338" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="347" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="338" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="347" y="1084.7408">MultFunction()</text><!--MD5=[19def8428f873ecb4f1c68353e1819b9]
class DivFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="DivFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="616" y="1014"/><ellipse cx="706.25" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M709.2188,1035.6406 Q708.6406,1035.9375 708,1036.0781 Q707.3594,1036.2344 706.6563,1036.2344 Q704.1563,1036.2344 702.8281,1034.5938 Q701.5156,1032.9375 701.5156,1029.8125 Q701.5156,1026.6875 702.8281,1025.0313 Q704.1563,1023.375 706.6563,1023.375 Q707.3594,1023.375 708,1023.5313 Q708.6563,1023.6875 709.2188,1023.9844 L709.2188,1026.7031 Q708.5938,1026.125 708,1025.8594 Q707.4063,1025.5781 706.7813,1025.5781 Q705.4375,1025.5781 704.75,1026.6563 Q704.0625,1027.7188 704.0625,1029.8125 Q704.0625,1031.9063 704.75,1032.9844 Q705.4375,1034.0469 706.7813,1034.0469 Q707.4063,1034.0469 708,1033.7813 Q708.5938,1033.5 709.2188,1032.9219 L709.2188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="65" x="726.75" y="1034.656">DivFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="617" x2="869" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="617" x2="869" y1="1054" y2="1054"/><ellipse cx="627" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="636" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="627" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="636" y="1084.7408">DivFunction()</text><!--MD5=[95cee276bb7adf73ee14dc1f00468562]
class PowerFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="PowerFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="905" y="1014"/><ellipse cx="986.75" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M989.7188,1035.6406 Q989.1406,1035.9375 988.5,1036.0781 Q987.8594,1036.2344 987.1563,1036.2344 Q984.6563,1036.2344 983.3281,1034.5938 Q982.0156,1032.9375 982.0156,1029.8125 Q982.0156,1026.6875 983.3281,1025.0313 Q984.6563,1023.375 987.1563,1023.375 Q987.8594,1023.375 988.5,1023.5313 Q989.1563,1023.6875 989.7188,1023.9844 L989.7188,1026.7031 Q989.0938,1026.125 988.5,1025.8594 Q987.9063,1025.5781 987.2813,1025.5781 Q985.9375,1025.5781 985.25,1026.6563 Q984.5625,1027.7188 984.5625,1029.8125 Q984.5625,1031.9063 985.25,1032.9844 Q985.9375,1034.0469 987.2813,1034.0469 Q987.9063,1034.0469 988.5,1033.7813 Q989.0938,1033.5 989.7188,1032.9219 L989.7188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="1007.25" y="1034.656">PowerFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="906" x2="1158" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="906" x2="1158" y1="1054" y2="1054"/><ellipse cx="916" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="925" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="916" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="925" y="1084.7408">PowerFunction()</text><!--MD5=[659e0ae6b056acaee803147880b192be]
class SinFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="SinFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="1194" y="1014"/><ellipse cx="1284.75" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1287.7188,1035.6406 Q1287.1406,1035.9375 1286.5,1036.0781 Q1285.8594,1036.2344 1285.1563,1036.2344 Q1282.6563,1036.2344 1281.3281,1034.5938 Q1280.0156,1032.9375 1280.0156,1029.8125 Q1280.0156,1026.6875 1281.3281,1025.0313 Q1282.6563,1023.375 1285.1563,1023.375 Q1285.8594,1023.375 1286.5,1023.5313 Q1287.1563,1023.6875 1287.7188,1023.9844 L1287.7188,1026.7031 Q1287.0938,1026.125 1286.5,1025.8594 Q1285.9063,1025.5781 1285.2813,1025.5781 Q1283.9375,1025.5781 1283.25,1026.6563 Q1282.5625,1027.7188 1282.5625,1029.8125 Q1282.5625,1031.9063 1283.25,1032.9844 Q1283.9375,1034.0469 1285.2813,1034.0469 Q1285.9063,1034.0469 1286.5,1033.7813 Q1287.0938,1033.5 1287.7188,1032.9219 L1287.7188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1305.25" y="1034.656">SinFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1195" x2="1447" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1195" x2="1447" y1="1054" y2="1054"/><ellipse cx="1205" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="1214" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="1205" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="1214" y="1084.7408">SinFunction()</text><!--MD5=[f9e91e0bcd0593d54a7063f4155df160]
class CosFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="CosFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="1483" y="1014"/><ellipse cx="1571.75" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1574.7188,1035.6406 Q1574.1406,1035.9375 1573.5,1036.0781 Q1572.8594,1036.2344 1572.1563,1036.2344 Q1569.6563,1036.2344 1568.3281,1034.5938 Q1567.0156,1032.9375 1567.0156,1029.8125 Q1567.0156,1026.6875 1568.3281,1025.0313 Q1569.6563,1023.375 1572.1563,1023.375 Q1572.8594,1023.375 1573.5,1023.5313 Q1574.1563,1023.6875 1574.7188,1023.9844 L1574.7188,1026.7031 Q1574.0938,1026.125 1573.5,1025.8594 Q1572.9063,1025.5781 1572.2813,1025.5781 Q1570.9375,1025.5781 1570.25,1026.6563 Q1569.5625,1027.7188 1569.5625,1029.8125 Q1569.5625,1031.9063 1570.25,1032.9844 Q1570.9375,1034.0469 1572.2813,1034.0469 Q1572.9063,1034.0469 1573.5,1033.7813 Q1574.0938,1033.5 1574.7188,1032.9219 L1574.7188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="1592.25" y="1034.656">CosFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1484" x2="1736" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1484" x2="1736" y1="1054" y2="1054"/><ellipse cx="1494" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="1503" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="1494" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1503" y="1084.7408">CosFunction()</text><!--MD5=[0d54c09f817e410f71eba205c0378eb5]
class BracketsFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="BracketsFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="1772" y="1014"/><ellipse cx="1846.75" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1849.7188,1035.6406 Q1849.1406,1035.9375 1848.5,1036.0781 Q1847.8594,1036.2344 1847.1563,1036.2344 Q1844.6563,1036.2344 1843.3281,1034.5938 Q1842.0156,1032.9375 1842.0156,1029.8125 Q1842.0156,1026.6875 1843.3281,1025.0313 Q1844.6563,1023.375 1847.1563,1023.375 Q1847.8594,1023.375 1848.5,1023.5313 Q1849.1563,1023.6875 1849.7188,1023.9844 L1849.7188,1026.7031 Q1849.0938,1026.125 1848.5,1025.8594 Q1847.9063,1025.5781 1847.2813,1025.5781 Q1845.9375,1025.5781 1845.25,1026.6563 Q1844.5625,1027.7188 1844.5625,1029.8125 Q1844.5625,1031.9063 1845.25,1032.9844 Q1845.9375,1034.0469 1847.2813,1034.0469 Q1847.9063,1034.0469 1848.5,1033.7813 Q1849.0938,1033.5 1849.7188,1032.9219 L1849.7188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="1867.25" y="1034.656">BracketsFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1773" x2="2025" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1773" x2="2025" y1="1054" y2="1054"/><ellipse cx="1783" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="1792" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="1783" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1792" y="1084.7408">BracketsFunction()</text><!--MD5=[0dda1088cbf6d4742347ffbda099fb8b]
class CoefFunction--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="CoefFunction" style="stroke: #A80036; stroke-width: 1.5;" width="254" x="2061" y="1014"/><ellipse cx="2147.25" cy="1030" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2150.2188,1035.6406 Q2149.6406,1035.9375 2149,1036.0781 Q2148.3594,1036.2344 2147.6563,1036.2344 Q2145.1563,1036.2344 2143.8281,1034.5938 Q2142.5156,1032.9375 2142.5156,1029.8125 Q2142.5156,1026.6875 2143.8281,1025.0313 Q2145.1563,1023.375 2147.6563,1023.375 Q2148.3594,1023.375 2149,1023.5313 Q2149.6563,1023.6875 2150.2188,1023.9844 L2150.2188,1026.7031 Q2149.5938,1026.125 2149,1025.8594 Q2148.4063,1025.5781 2147.7813,1025.5781 Q2146.4375,1025.5781 2145.75,1026.6563 Q2145.0625,1027.7188 2145.0625,1029.8125 Q2145.0625,1031.9063 2145.75,1032.9844 Q2146.4375,1034.0469 2147.7813,1034.0469 Q2148.4063,1034.0469 2149,1033.7813 Q2149.5938,1033.5 2150.2188,1032.9219 L2150.2188,1035.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="2167.75" y="1034.656">CoefFunction</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2062" x2="2314" y1="1046" y2="1046"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2062" x2="2314" y1="1054" y2="1054"/><ellipse cx="2072" cy="1065" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="2081" y="1069.7589">double evaluateImpl(const ArgType&amp;) const</text><ellipse cx="2072" cy="1079.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="2081" y="1084.7408">CoefFunction()</text><!--MD5=[b461a064a2109e2ce6823d92cf881e39]
class FunctionMap--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="137.8913" id="FunctionMap" style="stroke: #A80036; stroke-width: 1.5;" width="445" x="625.5" y="538"/><ellipse cx="807.75" cy="554" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M810.7188,559.6406 Q810.1406,559.9375 809.5,560.0781 Q808.8594,560.2344 808.1563,560.2344 Q805.6563,560.2344 804.3281,558.5938 Q803.0156,556.9375 803.0156,553.8125 Q803.0156,550.6875 804.3281,549.0313 Q805.6563,547.375 808.1563,547.375 Q808.8594,547.375 809.5,547.5313 Q810.1563,547.6875 810.7188,547.9844 L810.7188,550.7031 Q810.0938,550.125 809.5,549.8594 Q808.9063,549.5781 808.2813,549.5781 Q806.9375,549.5781 806.25,550.6563 Q805.5625,551.7188 805.5625,553.8125 Q805.5625,555.9063 806.25,556.9844 Q806.9375,558.0469 808.2813,558.0469 Q808.9063,558.0469 809.5,557.7813 Q810.0938,557.5 810.7188,556.9219 L810.7188,559.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="828.25" y="558.656">FunctionMap</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="626.5" x2="1069.5" y1="570" y2="570"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="633.5" y="578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="419" x="645.5" y="585.7589">std::unordered_map&lt;std::string,std::shared_ptr&lt;BaseFunction&gt;&gt; map_by_name_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="633.5" y="592.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="407" x="645.5" y="600.7408">std::unordered_map&lt;char,std::shared_ptr&lt;BaseFunction&gt;&gt; map_by_operator_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="626.5" x2="1069.5" y1="607.9638" y2="607.9638"/><ellipse cx="636.5" cy="618.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="645.5" y="623.7227">FunctionMap()</text><ellipse cx="636.5" cy="633.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="330" x="645.5" y="638.7046">std::shared_ptr&lt;BaseFunction&gt;&amp; getByName(const std::string&amp;)</text><ellipse cx="636.5" cy="648.9276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="645.5" y="653.6865">std::shared_ptr&lt;BaseFunction&gt;&amp; getByOperator(char)</text><ellipse cx="636.5" cy="663.9094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="645.5" y="668.6684">void addFunction(std::shared_ptr&lt;BaseFunction&gt;)</text><!--MD5=[44ba7356c01c1638b185c4733455bfac]
class ParserState--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="92.9457" id="ParserState" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="470.5" y="77"/><ellipse cx="520.75" cy="93" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M523.7188,98.6406 Q523.1406,98.9375 522.5,99.0781 Q521.8594,99.2344 521.1563,99.2344 Q518.6563,99.2344 517.3281,97.5938 Q516.0156,95.9375 516.0156,92.8125 Q516.0156,89.6875 517.3281,88.0313 Q518.6563,86.375 521.1563,86.375 Q521.8594,86.375 522.5,86.5313 Q523.1563,86.6875 523.7188,86.9844 L523.7188,89.7031 Q523.0938,89.125 522.5,88.8594 Q521.9063,88.5781 521.2813,88.5781 Q519.9375,88.5781 519.25,89.6563 Q518.5625,90.7188 518.5625,92.8125 Q518.5625,94.9063 519.25,95.9844 Q519.9375,97.0469 521.2813,97.0469 Q521.9063,97.0469 522.5,96.7813 Q523.0938,96.5 523.7188,95.9219 L523.7188,98.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="541.25" y="97.656">ParserState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="471.5" x2="644.5" y1="109" y2="109"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="478.5" y="117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="490.5" y="124.7589">ParserContext&amp; context_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="471.5" x2="644.5" y1="131.9819" y2="131.9819"/><ellipse cx="481.5" cy="142.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="490.5" y="147.7408">ParserState(ParserContext&amp;)</text><ellipse cx="481.5" cy="157.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="490.5" y="162.7227">virtual void handle(char) = 0</text><!--MD5=[b3e48f32ede1d49e6602796026135540]
class InitState--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="62.9819" id="InitState" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1105.5" y="575.5"/><ellipse cx="1137.6" cy="591.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1140.5688,597.1406 Q1139.9906,597.4375 1139.35,597.5781 Q1138.7094,597.7344 1138.0063,597.7344 Q1135.5063,597.7344 1134.1781,596.0938 Q1132.8656,594.4375 1132.8656,591.3125 Q1132.8656,588.1875 1134.1781,586.5313 Q1135.5063,584.875 1138.0063,584.875 Q1138.7094,584.875 1139.35,585.0313 Q1140.0063,585.1875 1140.5688,585.4844 L1140.5688,588.2031 Q1139.9438,587.625 1139.35,587.3594 Q1138.7563,587.0781 1138.1313,587.0781 Q1136.7875,587.0781 1136.1,588.1563 Q1135.4125,589.2188 1135.4125,591.3125 Q1135.4125,593.4063 1136.1,594.4844 Q1136.7875,595.5469 1138.1313,595.5469 Q1138.7563,595.5469 1139.35,595.2813 Q1139.9438,595 1140.5688,594.4219 L1140.5688,597.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="1155.4" y="596.156">InitState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1106.5" x2="1221.5" y1="607.5" y2="607.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1106.5" x2="1221.5" y1="615.5" y2="615.5"/><ellipse cx="1116.5" cy="626.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1125.5" y="631.2589">void handle(char)</text><!--MD5=[0e73412f1f937a7a121ddef67a8d8d93]
class FuncState--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="107.9276" id="FuncState" style="stroke: #A80036; stroke-width: 1.5;" width="230" x="360" y="553"/><ellipse cx="443.25" cy="569" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M446.2188,574.6406 Q445.6406,574.9375 445,575.0781 Q444.3594,575.2344 443.6563,575.2344 Q441.1563,575.2344 439.8281,573.5938 Q438.5156,571.9375 438.5156,568.8125 Q438.5156,565.6875 439.8281,564.0313 Q441.1563,562.375 443.6563,562.375 Q444.3594,562.375 445,562.5313 Q445.6563,562.6875 446.2188,562.9844 L446.2188,565.7031 Q445.5938,565.125 445,564.8594 Q444.4063,564.5781 443.7813,564.5781 Q442.4375,564.5781 441.75,565.6563 Q441.0625,566.7188 441.0625,568.8125 Q441.0625,570.9063 441.75,571.9844 Q442.4375,573.0469 443.7813,573.0469 Q444.4063,573.0469 445,572.7813 Q445.5938,572.5 446.2188,571.9219 L446.2188,574.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="463.75" y="573.656">FuncState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="361" x2="589" y1="585" y2="585"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="368" y="593"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="380" y="600.7589">std::string func_name_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="361" x2="589" y1="607.9819" y2="607.9819"/><ellipse cx="371" cy="618.9819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="380" y="623.7408">void handle(char)</text><ellipse cx="371" cy="633.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="204" x="380" y="638.7227">const std::string&amp; getFuncName() const</text><ellipse cx="371" cy="648.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="380" y="653.7046">void setFuncName(const std::string&amp;)</text><!--MD5=[db6f2d2c94b457fb09837985616ef8d9]
class CoefState--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="107.9276" id="CoefState" style="stroke: #A80036; stroke-width: 1.5;" width="266" x="59" y="553"/><ellipse cx="160.25" cy="569" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M163.2188,574.6406 Q162.6406,574.9375 162,575.0781 Q161.3594,575.2344 160.6563,575.2344 Q158.1563,575.2344 156.8281,573.5938 Q155.5156,571.9375 155.5156,568.8125 Q155.5156,565.6875 156.8281,564.0313 Q158.1563,562.375 160.6563,562.375 Q161.3594,562.375 162,562.5313 Q162.6563,562.6875 163.2188,562.9844 L163.2188,565.7031 Q162.5938,565.125 162,564.8594 Q161.4063,564.5781 160.7813,564.5781 Q159.4375,564.5781 158.75,565.6563 Q158.0625,566.7188 158.0625,568.8125 Q158.0625,570.9063 158.75,571.9844 Q159.4375,573.0469 160.7813,573.0469 Q161.4063,573.0469 162,572.7813 Q162.5938,572.5 163.2188,571.9219 L163.2188,574.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="180.75" y="573.656">CoefState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="60" x2="324" y1="585" y2="585"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="67" y="593"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="62" x="79" y="600.7589">int decimal_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="67" y="607.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="79" y="615.7408">std::shared_ptr&lt;BaseFunction&gt; coef_function_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="67" y="622.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="79" y="630.7227">std::string func_name_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="60" x2="324" y1="637.9457" y2="637.9457"/><ellipse cx="70" cy="648.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="79" y="653.7046">void handle(char)</text><!--MD5=[5851bdc96f09d6c1699f9b9cc33e99c8]
class TransState--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="77.9638" id="TransState" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="511" y="331.5"/><ellipse cx="526.45" cy="347.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M529.4188,353.1406 Q528.8406,353.4375 528.2,353.5781 Q527.5594,353.7344 526.8563,353.7344 Q524.3563,353.7344 523.0281,352.0938 Q521.7156,350.4375 521.7156,347.3125 Q521.7156,344.1875 523.0281,342.5313 Q524.3563,340.875 526.8563,340.875 Q527.5594,340.875 528.2,341.0313 Q528.8563,341.1875 529.4188,341.4844 L529.4188,344.2031 Q528.7938,343.625 528.2,343.3594 Q527.6063,343.0781 526.9813,343.0781 Q525.6375,343.0781 524.95,344.1563 Q524.2625,345.2188 524.2625,347.3125 Q524.2625,349.4063 524.95,350.4844 Q525.6375,351.5469 526.9813,351.5469 Q527.6063,351.5469 528.2,351.2813 Q528.7938,351 529.4188,350.4219 L529.4188,353.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="540.55" y="352.156">TransState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="512" x2="604" y1="363.5" y2="363.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="512" x2="604" y1="371.5" y2="371.5"/><ellipse cx="522" cy="382.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="531" y="387.2589">TransState()</text><ellipse cx="522" cy="397.4819" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="531" y="402.2408">void handle()</text><!--MD5=[9e3d42f6ca37a4b913a66af9b64d17d5]
class ParserContext--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="212.8008" id="ParserContext" style="stroke: #A80036; stroke-width: 1.5;" width="377" x="640.5" y="264"/><ellipse cx="784.75" cy="280" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M787.7188,285.6406 Q787.1406,285.9375 786.5,286.0781 Q785.8594,286.2344 785.1563,286.2344 Q782.6563,286.2344 781.3281,284.5938 Q780.0156,282.9375 780.0156,279.8125 Q780.0156,276.6875 781.3281,275.0313 Q782.6563,273.375 785.1563,273.375 Q785.8594,273.375 786.5,273.5313 Q787.1563,273.6875 787.7188,273.9844 L787.7188,276.7031 Q787.0938,276.125 786.5,275.8594 Q785.9063,275.5781 785.2813,275.5781 Q783.9375,275.5781 783.25,276.6563 Q782.5625,277.7188 782.5625,279.8125 Q782.5625,281.9063 783.25,282.9844 Q783.9375,284.0469 785.2813,284.0469 Q785.9063,284.0469 786.5,283.7813 Q787.0938,283.5 787.7188,282.9219 L787.7188,285.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="805.25" y="284.656">ParserContext</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="641.5" x2="1016.5" y1="296" y2="296"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="304"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="351" x="660.5" y="311.7589">std::stack&lt;std::shared_ptr&lt;FunctionExpression&gt;&gt; interpreter_stack_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="318.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="660.5" y="326.7408">std::shared_ptr&lt;FunctionMap&gt; function_map_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="333.9638"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="236" x="660.5" y="341.7227">std::shared_ptr&lt;FunctionExpression&gt; cursor_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="348.9457"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="660.5" y="356.7046">ParserState* state_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="363.9276"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="660.5" y="371.6865">InitState init_state_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="378.9094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="660.5" y="386.6684">FuncState funct_state_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="648.5" y="393.8913"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="660.5" y="401.6502">CoefState coef_state_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="641.5" x2="1016.5" y1="408.8732" y2="408.8732"/><ellipse cx="651.5" cy="419.8732" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="660.5" y="424.6321">ParserContext()</text><ellipse cx="651.5" cy="434.8551" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="660.5" y="439.614">void handle(char)</text><ellipse cx="651.5" cy="449.837" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="660.5" y="454.5959">std::shared_ptr&lt;FunctionExpression&gt; getCursor() const</text><ellipse cx="651.5" cy="464.8189" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="276" x="660.5" y="469.5778">void setFunctionMap(std::shared_ptr&lt;FunctionMap&gt;)</text><!--MD5=[628cc5a2753cca06eb1ffef55c386535]
class Parser--><rect fill="#FEFECE" filter="url(#fwwy22zqy1ovx)" height="122.9094" id="Parser" style="stroke: #A80036; stroke-width: 1.5;" width="313" x="904.5" y="62"/><ellipse cx="1038.25" cy="78" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1041.2188,83.6406 Q1040.6406,83.9375 1040,84.0781 Q1039.3594,84.2344 1038.6563,84.2344 Q1036.1563,84.2344 1034.8281,82.5938 Q1033.5156,80.9375 1033.5156,77.8125 Q1033.5156,74.6875 1034.8281,73.0313 Q1036.1563,71.375 1038.6563,71.375 Q1039.3594,71.375 1040,71.5313 Q1040.6563,71.6875 1041.2188,71.9844 L1041.2188,74.7031 Q1040.5938,74.125 1040,73.8594 Q1039.4063,73.5781 1038.7813,73.5781 Q1037.4375,73.5781 1036.75,74.6563 Q1036.0625,75.7188 1036.0625,77.8125 Q1036.0625,79.9063 1036.75,80.9844 Q1037.4375,82.0469 1038.7813,82.0469 Q1039.4063,82.0469 1040,81.7813 Q1040.5938,81.5 1041.2188,80.9219 L1041.2188,83.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="37" x="1058.75" y="82.656">Parser</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="905.5" x2="1216.5" y1="94" y2="94"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="912.5" y="102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="924.5" y="109.7589">ParserContext parser_context_</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="912.5" y="116.9819"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="924.5" y="124.7408">std::shared_ptr&lt;FunctionExpression&gt; func_expression_</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="905.5" x2="1216.5" y1="131.9638" y2="131.9638"/><ellipse cx="915.5" cy="142.9638" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="924.5" y="147.7227">Parser()</text><ellipse cx="915.5" cy="157.9457" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="208" x="924.5" y="162.7046">void buildExpression(const std::string&amp;)</text><ellipse cx="915.5" cy="172.9276" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="924.5" y="177.6865">double eval()</text><!--MD5=[4aa31a1710f66313acee228b30d899fd]
reverse link IExpression to FunctionExpression--><path d="M1320.47,182.53 C1316.9,206.88 1312.62,235.97 1308.52,263.87 " fill="none" id="IExpression&lt;-FunctionExpression" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1313.58,181.28,1323.41,162.51,1327.43,183.32,1313.58,181.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[18ace27bda0261919b090e5d9979bb4f]
reverse link BaseFunction to AddFunction--><path d="M1007.99,880.93 C835.4,909.91 552.03,959.91 310,1014 C304.16,1015.31 298.2,1016.68 292.18,1018.11 " fill="none" id="BaseFunction&lt;-AddFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1007.08,873.99,1027.96,877.59,1009.39,887.8,1007.08,873.99" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0b4c9e680b795fe779c488f524f76403]
reverse link BaseFunction to MultFunction--><path d="M1008.42,898.81 C879.7,934.38 700.58,983.87 581.15,1016.87 " fill="none" id="BaseFunction&lt;-MultFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1006.69,892.03,1027.83,893.45,1010.42,905.52,1006.69,892.03" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[254fd9eb820414dbe124e63fcad00a76]
reverse link BaseFunction to DivFunction--><path d="M1009.54,928.16 C946.87,957.28 877.37,989.57 825.06,1013.87 " fill="none" id="BaseFunction&lt;-DivFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1006.79,921.72,1027.87,919.64,1012.68,934.42,1006.79,921.72" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[0049e355f030dab8f964874d3f525150]
reverse link BaseFunction to PowerFunction--><path d="M1088.3,969.84 C1077.46,985.67 1067.01,1000.91 1058.12,1013.89 " fill="none" id="BaseFunction&lt;-PowerFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1082.62,965.75,1099.7,953.21,1094.17,973.67,1082.62,965.75" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[dd6045082be9db973e798ee70fa2c28a]
reverse link BaseFunction to SinFunction--><path d="M1256.19,969.09 C1268.77,985.19 1280.9,1000.71 1291.2,1013.89 " fill="none" id="BaseFunction&lt;-SinFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1250.58,973.28,1243.77,953.21,1261.61,964.66,1250.58,973.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4744506d24c4646b1d0dc572c5312531]
reverse link BaseFunction to CosFunction--><path d="M1324.54,925.06 C1391.89,955.01 1467.86,988.79 1524.49,1013.98 " fill="none" id="BaseFunction&lt;-CosFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1321.69,931.45,1306.26,916.93,1327.38,918.66,1321.69,931.45" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[35855764e9a7a64f66dbdc66fc6f2d9c]
reverse link BaseFunction to BracketsFunction--><path d="M1326.12,897.82 C1459.69,933.77 1648.01,984.45 1771.74,1017.75 " fill="none" id="BaseFunction&lt;-BracketsFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1323.9,904.48,1306.41,892.52,1327.54,890.96,1323.9,904.48" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[878a90484c71347cd17e9f54a8abdf1d]
reverse link BaseFunction to CoefFunction--><path d="M1326.14,879.98 C1502.43,908.56 1794.74,958.61 2044,1014 C2049.55,1015.23 2055.21,1016.54 2060.93,1017.89 " fill="none" id="BaseFunction&lt;-CoefFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1324.91,886.88,1306.28,876.78,1327.14,873.06,1324.91,886.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d3745131ebe1404278fa17e65fd53dc1]
reverse link ParserState to InitState--><path d="M665.55,144.36 C788.97,169.1 981.27,214.21 1035,264 C1059.06,286.29 1128.4,495.65 1154.19,575.37 " fill="none" id="ParserState&lt;-InitState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="663.88,151.17,645.62,140.43,666.6,137.44,663.88,151.17" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3737704f4c2aa99bda77c2d1dc65cfbd]
reverse link ParserState to FuncState--><path d="M522.71,188.16 C511.51,211.35 500.39,238.21 494,264 C469.26,363.86 469.28,484.94 471.9,552.95 " fill="none" id="ParserState&lt;-FuncState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="516.58,184.76,531.82,170.05,529.09,191.06,516.58,184.76" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[c842d274f76f22ccb996b6100a542272]
reverse link ParserState to CoefState--><path d="M511.13,186.16 C438.65,281.52 300.61,463.12 232.32,552.96 " fill="none" id="ParserState&lt;-CoefState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="505.56,181.92,523.24,170.23,516.71,190.39,505.56,181.92" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8269964a77193d95815b173493b9cfce]
reverse link ParserState to TransState--><path d="M558,190.03 C558,235.24 558,293.76 558,331.47 " fill="none" id="ParserState&lt;-TransState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="551,190.01,558,170.01,565,190.01,551,190.01" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6176b4c7f9dd00204507cf1c8a0ae64f]
reverse link FunctionExpression to FunctionExpression--><path d="M1454.27,350.81 C1467.67,355.05 1476,361.61 1476,370.5 C1476,381.99 1462.07,389.59 1441.27,393.32 " fill="none" id="FunctionExpression&lt;-FunctionExpression" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1441.27,347.68,1446.1674,352.9729,1452.9369,350.488,1448.0394,345.195,1441.27,347.68" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="1482" y="375.897">args</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1449.0956" y="342.9854">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="1448.9362" y="390.9326">0..*</text><!--MD5=[31299fa7106443ff6ddab2902ea2a0ca]
reverse link FunctionExpression to BaseFunction--><path d="M1278.51,490.14 C1270,547.03 1257.44,615.75 1240,676 C1232.47,702.02 1222.33,729.42 1212.02,754.67 " fill="none" id="FunctionExpression&lt;-BaseFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1280.42,477.08,1275.5917,482.436,1278.6786,488.953,1283.507,483.5969,1280.42,477.08" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="1271" y="612.397">meta_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1272.3396" y="498.7394">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="1194.7012" y="743.3452">0..1</text><!--MD5=[bd7d51e43632fb00c83d8a1bfcf78fa9]
reverse link FunctionMap to BaseFunction--><path d="M947.42,684.36 C976.5,706.69 1008.7,731.42 1039.28,754.9 " fill="none" id="FunctionMap&lt;-BaseFunction" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="936.86,676.25,939.1806,683.0775,946.3754,683.5614,944.0548,676.7339,936.86,676.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="998" y="720.897">stored</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="938.2626" y="697.8406">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="1008.3054" y="743.258">0..*</text><!--MD5=[65db91f1d11f8d4019416a8e3fc72250]
reverse link ParserContext to FunctionMap--><path d="M838.62,490.21 C839.95,506.58 841.27,522.93 842.49,537.95 " fill="none" id="ParserContext&lt;-FunctionMap" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="837.56,477.09,834.0542,483.3916,838.5227,489.0513,842.0285,482.7498,837.56,477.09" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="830.9" y="498.75">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="834.5045" y="526.4095">1</text><!--MD5=[b3842707be71c0ee5251f2dd2a35f9f8]
reverse link ParserContext to InitState--><path d="M1008.77,484.23 C1042.25,505.9 1071.78,525.66 1088,538 C1103.07,549.47 1118.82,563.24 1132.05,575.37 " fill="none" id="ParserContext&lt;-InitState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="997.78,477.14,1000.6505,483.7551,1007.8608,483.6497,1004.9903,477.0346,997.78,477.14" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1001.8847" y="498.8034">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1117.2953" y="563.5678">1</text><!--MD5=[a6bf26872204bff6d4ded7afb157132a]
reverse link ParserContext to FuncState--><path d="M658.43,484.49 C622.37,508.38 585.95,532.5 555.18,552.89 " fill="none" id="ParserContext&lt;-FuncState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="669.6,477.09,662.3889,477.0702,659.5972,483.719,666.8083,483.7388,669.6,477.09" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="651.6552" y="498.75">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="558.9631" y="541.0372">1</text><!--MD5=[242dffd74abac811b1dd561793f728f7]
reverse link ParserContext to CoefState--><path d="M628.15,475.13 C626.43,475.76 624.71,476.39 623,477 C503.09,519.94 463.95,498.08 343,538 C329.9,542.33 316.4,547.42 303.11,552.84 " fill="none" id="ParserContext&lt;-CoefState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="640.41,470.44,633.3771,468.8466,629.2014,474.7256,636.2342,476.319,640.41,470.44" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="625.3062" y="471.2137">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="310.5701" y="541.3694">1</text><!--MD5=[73f585864f32addea8d544abf3b45daf]
link ParserState to ParserContext--><path d="M608.34,170.01 C636.55,195.51 673.04,228.5 708.19,260.28 " fill="none" id="ParserState-&gt;ParserContext" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="712.03,263.75,708.0526,254.74,708.3271,260.3902,702.6769,260.6647,712.03,263.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="678" y="229.897">context_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="607.9269" y="191.6963">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="696.183" y="252.2166">1</text><!--MD5=[53d02a4e764bee5de53bdb97bd195675]
reverse link Parser to ParserContext--><path d="M994.47,194.76 C974.07,216.3 951.17,240.49 929.05,263.84 " fill="none" id="Parser&lt;-ParserContext" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1003.65,185.06,996.62,186.6659,995.3985,193.7728,1002.4285,192.1669,1003.65,185.06" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="989.9945" y="206.6634">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="929.1404" y="252.3132">1</text><!--MD5=[f4275ab78355e1bf70e898e326e75865]
link Parser to FunctionExpression--><path d="M1118.35,185.06 C1139.83,207.75 1164.96,234.29 1189.36,260.05 " fill="none" id="Parser-&gt;FunctionExpression" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1192.95,263.84,1189.657,254.558,1189.5085,260.2129,1183.8536,260.0644,1192.95,263.84" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="1164" y="229.897">func_expression_</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1117.2398" y="206.6634">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="1164.8682" y="252.3132">0..1</text><!--MD5=[af7281cfb43a9bbdd3d5dc004565b0e0]
@startuml

package "mathparser::core" {

interface IExpression {
  +virtual ~IExpression()
  +virtual double Evaluate()
}

class FunctionExpression {
  -ArgsType arg_
  -double coef_
  -std::shared_ptr<BaseFunction> meta_
  +FunctionExpression(std::shared_ptr<BaseFunction>)
  +double Evaluate()
  +size_t argCount() const
  +std::shared_ptr<FunctionExpression>& argAt(size_t)
  +void ensureArgSize(size_t)
  +double coef() const
  +void setCoef(double)
  +void setMeta(std::shared_ptr<BaseFunction>)
}

class BaseFunction {
  -std::string name_
  -char oper_
  -size_t arg_number_
  -int oper_index_
  +virtual size_t getArgNumber() const
  +virtual const std::string& getName() const
  +virtual char getOperator() const
  +virtual int getOperIndex() const
  +virtual double evaluate(const ArgType&)
  +virtual double evaluateImpl(const ArgType&) = 0
}

class AddFunction {
  +double evaluateImpl(const ArgType&) const
  +AddFunction()
}
class MultFunction {
  +double evaluateImpl(const ArgType&) const
  +MultFunction()
}
class DivFunction {
  +double evaluateImpl(const ArgType&) const
  +DivFunction()
}
class PowerFunction {
  +double evaluateImpl(const ArgType&) const
  +PowerFunction()
}
class SinFunction {
  +double evaluateImpl(const ArgType&) const
  +SinFunction()
}
class CosFunction {
  +double evaluateImpl(const ArgType&) const
  +CosFunction()
}
class BracketsFunction {
  +double evaluateImpl(const ArgType&) const
  +BracketsFunction()
}
class CoefFunction {
  +double evaluateImpl(const ArgType&) const
  +CoefFunction()
}

class FunctionMap {
  -std::unordered_map<std::string,std::shared_ptr<BaseFunction>> map_by_name_
  -std::unordered_map<char,std::shared_ptr<BaseFunction>> map_by_operator_
  +FunctionMap()
  +std::shared_ptr<BaseFunction>& getByName(const std::string&)
  +std::shared_ptr<BaseFunction>& getByOperator(char)
  +void addFunction(std::shared_ptr<BaseFunction>)
}

class ParserState {
  -ParserContext& context_
  +ParserState(ParserContext&)
  +virtual void handle(char) = 0
}

class InitState {
  +void handle(char)
}
class FuncState {
  -std::string func_name_
  +void handle(char)
  +const std::string& getFuncName() const
  +void setFuncName(const std::string&)
}
class CoefState {
  -int decimal_
  -std::shared_ptr<BaseFunction> coef_function_
  -std::string func_name_
  +void handle(char)
}
class TransState {
  +TransState()
  +void handle()
}

class ParserContext {
  -std::stack<std::shared_ptr<FunctionExpression>> interpreter_stack_
  -std::shared_ptr<FunctionMap> function_map_
  -std::shared_ptr<FunctionExpression> cursor_
  -ParserState* state_
  -InitState init_state_
  -FuncState funct_state_
  -CoefState coef_state_
  +ParserContext()
  +void handle(char)
  +std::shared_ptr<FunctionExpression> getCursor() const
  +void setFunctionMap(std::shared_ptr<FunctionMap>)
}

class Parser {
  -ParserContext parser_context_
  -std::shared_ptr<FunctionExpression> func_expression_
  +Parser()
  +void buildExpression(const std::string&)
  +double eval()
}

IExpression <|- - FunctionExpression
BaseFunction <|- - AddFunction
BaseFunction <|- - MultFunction
BaseFunction <|- - DivFunction
BaseFunction <|- - PowerFunction
BaseFunction <|- - SinFunction
BaseFunction <|- - CosFunction
BaseFunction <|- - BracketsFunction
BaseFunction <|- - CoefFunction
ParserState <|- - InitState
ParserState <|- - FuncState
ParserState <|- - CoefState
ParserState <|- - TransState

FunctionExpression "1" *- - "0..*" FunctionExpression : args
FunctionExpression "1" o- - "0..1" BaseFunction : meta_
FunctionMap "1" o- - "0..*" BaseFunction : stored
ParserContext "1" o- - "1" FunctionMap
ParserContext "1" *- - "1" InitState
ParserContext "1" *- - "1" FuncState
ParserContext "1" *- - "1" CoefState
ParserState "1" - -> "1" ParserContext : context_
Parser "1" *- - "1" ParserContext
Parser "1" - -> "0..1" FunctionExpression : func_expression_

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.9+10-Ubuntu-124.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>